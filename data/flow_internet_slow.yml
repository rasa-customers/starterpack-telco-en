flows:
  internet_slow:
    description: Help users understand why their internet is slow and provide solutions
    steps:
      - action: utter_acknowledge_issue
      - collect: run_speed_test
        next:
          - if: slots.run_speed_test is true
            then:
              - collect: network_speed
                reset_after_flow_ends: true
                next:
                  - if: slots.network_speed < 20
                    then:
                      - action: utter_acknowledge_speed_test_not_good
                      - action: utter_propose_reset_router_solution
                      - call: reset_router
                      - collect: network_speed_again
                        reset_after_flow_ends: true
                        next:
                          - if: slots.network_speed_again > 20
                            then:
                              - action: utter_speed_issue_resolved
                                next: "END"
                          - else:
                            - action: utter_speed_issue_not_resolved
                            - link: pattern_human_handoff
                  - else:
                    - action: utter_speed_network_not_issue
                    - action: utter_other_issues
                    - link: pattern_human_handoff
          - else:
            - noop: true
              next: "END"


                      
